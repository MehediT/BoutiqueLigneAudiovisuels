@startuml
!theme plain
autonumber

actor "Visiteur" as V
participant "InscriptionIHM" as IHM
participant "CompteControleur" as CC
participant "Compte" as C
actor "Administrateur" as A
participant "GestionCompteControleur" as GCC

title Diagramme de séquence : Création de compte

V -> IHM : Cliquer sur "Créer un compte"
activate V
activate IHM

IHM -> CC : validerInscription(donnéesVisiteur)
activate CC

CC -> C : créerCompte(donnéesVisiteur)
activate C
C --> CC : [Compte créé en attente de validation]
deactivate C

CC --> IHM : Retour "Compte en attente de validation"
deactivate CC
IHM --> V : Afficher "Votre demande a été envoyée"
deactivate IHM
deactivate V

A -> GCC : validerCompte(idCompte)
activate A
activate GCC
GCC -> C : vérifierCompte(idCompte)
activate C

alt Compte valide
    C --> GCC : [OK, compte valide]
    GCC --> A : Confirmer la validation
    GCC --> C : mettreÀJourStatutCompte(VALIDÉ)
else Compte invalide
    C --> GCC : [KO, compte inexistant ou invalide]
    GCC --> A : Rejeter la validation
end

deactivate C
deactivate GCC
deactivate A
@enduml